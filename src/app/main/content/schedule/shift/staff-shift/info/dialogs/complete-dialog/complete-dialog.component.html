<div class="dialog-content-wrapper">
    <h1 mat-dialog-title>Complete</h1>
    <div mat-dialog-content>
        <p *ngIf="role.completion_notes !== ''">
            {{role.completion_notes}}
        </p>

        <p class="mt-8" *ngIf="uploads_required > 0">
            Uploads: <span [ngStyle]="{'color': num_uploaded < uploads_required ? 'red' : 'green'}">{{num_uploaded}}</span> / <span>{{uploads_required}}</span>
        </p>

        <fieldset *ngIf="role.show_surveys == 1 && role.surveys.length > 0">
            <legend>Surveys</legend>
            <div>
                <div *ngFor="let survey of role.surveys; last as last" [class.mb-8]="!last" fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon [ngClass]="survey.completed_id == null ? 'red-fg' : 'green-fg'">
                        {{survey.completed_id == null ? 'flash_on' : 'done'}}
                    </mat-icon>
                    <a href="javascript:void(0)" (click)="openSurvey(survey)">{{survey.rname}}</a>
                </div>
            </div>
        </fieldset>
    </div>
    <div mat-dialog-actions>
        <button mat-button class="mat-accent-bg" (click)="onComplete()">Complete</button>
        <button mat-button [mat-dialog-close]="false" cdkFocusInitial class="mat-primary-50-bg">Cancel</button>
    </div>
</div>
