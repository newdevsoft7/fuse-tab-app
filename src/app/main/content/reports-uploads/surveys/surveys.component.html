<div id="surveys-container">
    <mat-drawer-container autosize fxFlex="1 0 auto" class="draw-container">

        <mat-drawer #drawer mode="side" [disableClose]="false" class="draw-sidenav">
            <button class="btn-add-form" mat-mini-fab color="accent" (click)="addSurvey()">
                <mat-icon>add</mat-icon>
            </button>
            <div class="pt-16 nav" fuseperfectscrollbar>
                <div class="nav-item" *ngFor="let survey of surveys">
                    <div matRipple
                        (click)="selectSurvey(survey)"
                        [class.active]="survey.id === selectedSurvey?.id"
                        class="nav-link" fxLayout="row" fxLayoutAlign="space-between center">
                        <span class="name">
                        {{ survey.rname }}
                        </span>
                    </div>

                    <mat-divider></mat-divider>
                </div>
            </div>
        </mat-drawer>
        <div class="form-container" *ngIf="selectedSurvey">
            <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="8px" class="mb-16">
                <button mat-raised-button color="accent" (click)="editSurvey(selectedSurvey, $event)" matTooltip="Edit">
                    Edit
                </button>

                <button mat-icon-button (click)="viewSurvey(selectedSurvey, $event)" matTooltip="View">
                    <mat-icon>remove_red_eye</mat-icon>
                </button>
            </div>
            <div class="box info-box">
                <header class="mat-accent-bg" fxLayout="row" fxLayoutAlign="space-between center">
                    <div class="title">Quiz instructions</div>
                </header>
                <div class="content" fxLayout="column">
                    <textarea name="quizInstructions" [(ngModel)]="selectedSurvey.instructions" placeholder="Enter instructions">
                    </textarea>
                    <div class="mt-8">
                        <button mat-raised-button color="accent" (click)="saveSurvey(selectedSurvey)">
                            <mat-icon class="s-20 white-fg">save</mat-icon> Save
                        </button>
                    </div>
                </div>
            </div>
            <button mat-raised-button color="warn" (click)="deleteSurvey(selectedSurvey.id, $event)" matTooltip="Delete">
                Delete
            </button>
        </div>
    </mat-drawer-container>
</div>